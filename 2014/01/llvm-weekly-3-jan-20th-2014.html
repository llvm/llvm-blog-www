<!doctype html><html lang=en><head><title>LLVM Weekly - #3, Jan 20th 2014 - The LLVM Project Blog</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="LLVM Project News and Details from the Trenches"><meta name=author content="Alex Bradbury"><meta property="og:url" content="https://blog.llvm.org/2014/01/llvm-weekly-3-jan-20th-2014.html"><meta property="og:site_name" content="The LLVM Project Blog"><meta property="og:title" content="LLVM Weekly - #3, Jan 20th 2014"><meta property="og:description" content="Welcome to the third issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by Alex Bradbury."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-01-20T07:42:00+00:00"><meta property="article:modified_time" content="2014-01-20T07:42:00+00:00"><meta property="article:tag" content="Llvmweekly"><meta name=twitter:card content="summary"><meta name=twitter:title content="LLVM Weekly - #3, Jan 20th 2014"><meta name=twitter:description content="Welcome to the third issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by Alex Bradbury."><meta name=generator content="Hugo 0.128.0"><link rel=stylesheet href=https://blog.llvm.org/css/normalize.min.css><link rel=stylesheet href=https://blog.llvm.org/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=https://blog.llvm.org/css/styles.css></head><body><div id=container><header><h1><a href=https://blog.llvm.org/>The LLVM Project Blog</a></h1><ul id=social-media><li><a href=https://www.facebook.com/llvmorg title=Facebook><i class="fab fa-facebook fa-lg"></i></a></li><li><a href=https://github.com/llvm title=GitHub><i class="fab fa-github fa-lg"></i></a></li><li><a href=https://twitter.com/llvmorg title=Twitter><i class="fab fa-twitter fa-lg"></i></a></li><li><a href=https://www.youtube.com/c/LLVMPROJ title=Youtube><i class="fab fa-youtube fa-lg"></i></a></li></ul><p><em>LLVM Project News and Details from the Trenches</em></p></header><nav><ul><li><a href=https://blog.llvm.org/about><i class="fa-li fa fa-lg"></i><span>About</span></a></li><li><a href=https://blog.llvm.org/posts><i class="fa-li fa fa-lg"></i><span>Posts</span></a></li><li><a href=https://blog.llvm.org/tags><i class="fa-li fa fa-lg"></i><span>Tags</span></a></li><li><a href=https://llvm.org/><i class="fa-li fa fa-lg"></i><span>llvm.org</span></a></li></ul></nav><main><article><h1>LLVM Weekly - #3, Jan 20th 2014</h1><aside><ul><li>By Alex Bradbury</li><li><time class=post-date datetime=2014-01-20T07:42:00Z>Jan 20, 2014</time></li><li><em><a href=https://blog.llvm.org/tags/llvmweekly>#llvmweekly</a></em></li><li>5 minute read</li></ul></aside><p>Welcome to the third issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by <a href=http://asbradbury.org>Alex Bradbury</a>. Subscribe to future issues at <a href=http://llvmweekly.org>http://llvmweekly.org</a> and pass it on to anyone else you think may be interested. Please send any tips or feedback to <a href=mailto:asb@asbradbury.org>asb@asbradbury.org</a>, or <a href=https://twitter.com/llvmweekly>@llvmweekly</a> or <a href=https://twitter.com/asbradbury>@asbradbury</a> on Twitter.</p><p>The canonical home for this issue <a href=http://llvmweekly.org/issue/3>can be found here at llvmweekly.org</a>.</p><a name=more></a><h3>News and articles from around the web</h3><p>Eli Bendersky has penned <a href=http://eli.thegreenplace.net/2014/01/15/some-thoughts-on-llvm-vs-libjit/>some thoughts on LLVM vs. libjit</a>. Eli describes libjit as being more limited, yet easier to understand and to get going with due to its focus. He also makes interesting claims such as "to be honest, I don't think it's possible to create a really fast JIT within the framework of LLVM, because of its modularity. The faster the JIT, the more youâ€™ll have to deviate from the framework of LLVM". As well as the comments directly on the blog post, there is some good discussion over <a href=http://www.reddit.com/r/programming/comments/1vf1lx/some_thoughts_on_llvm_vs_libjit/>at Reddit</a> .</p><p><a href=http://www.capstone-engine.org/Version-2.0-RC1.html>Version 2.0-RC1 Capstone disassembly framework has been released</a>. Capstone is built using code from LLVM. The new release features reduced memory usage, faster Python bindings, and support for PowerPC among other changes.</p><p><a href=http://planet.clang.org/>Planet Clang</a> has been <a href=http://article.gmane.org/gmane.comp.compilers.clang.devel/34439>announced</a>. It is a news feed following blog posts from Clang and LLVM committers and contributors. The blog roll is fairly short right now, but you're welcome to submit your RSS feed via the email address in the announcement post.</p><p>The PDF of an upcoming paper to be presented at CGO next month has been released. <a href=http://www.cs.rutgers.edu/~santosh.nagarakatte/papers/cgo2014-final.pdf>WatchdogLite: Hardware-Accelerated Compiler-Based Pointer Checking</a> proposes instruction set extensions to accelerate pointer checking functions and achieves a performance overhead of 29% in return for memory safety. The compiler extends (and is compared to) <a href=http://acg.cis.upenn.edu/softbound/>SoftBound + CETS</a>.</p><h3>On the mailing lists</h3><ul><li><p>David Woodhouse has posted a <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69440>detailed update on the status of 16-bit x86 in LLVM</a>. David has successfully built the 16-bit startup code of the Linux kernel and invites people to start testing it on real code.</p></li><li><p>Tom Stellard opens a discussion on <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69428>stable LLVM 3.4.x releases</a>. A number of people volunteer their assistance and there seems to be general agreement that any 3.4.1 release would include bug-fixes only with no ABI changes.</p></li><li><p>Diego Novillo is looking to boost the performance of the SPEC benchmark libquantum <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69494>using profile info and loop unrolling</a>. Sean Silva did us all a great service by asking for clarification on what a "runtime unroller" means in this context. The answer is that the trip count (the number of times the loop is executed) is not known at compile time. The thread is worth a read if you're interested in loop unrolling or vectorization.</p></li><li><p>Aaron Ballman has stepped up as <a href=http://article.gmane.org/gmane.comp.compilers.clang.scm/90431>code owner for the attribute subsystem</a> with unanimous approval.</p></li><li><p>Skye Wanderman-Milne was looking for help on <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69470>loop unrolling a single function using the C++ API</a>. Simply adding the LoopUnrollPass to a FunctionPassManager had no effect, but after some advice from the mailing list Skye did respond to confirm that the set of ScalarReplAggregates, LoopRotate, and LoopUnroll passes did have the desired effect.</p></li><li><p>Tobias Grosser asks why LLVM's LNT (used for performance tracking) defaults to <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69555>aggregating results by taking the minimum rather than an average</a>. Replies quickly hone on in the real problem at hand, which is that results are 'noisy' potentially due to other processes on the machine but also quantised to certain values due to the timer being relatively coarse-grained in comparison to the execution time for the benchmarks.</p></li><li><p>This week's unsolved question is from Keith Walker, who's noticed that on ARM, the function prologue generated in GCC and LLVM ends up with <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/69514>the frame register pointing to a different address</a>. The LLVM prologue results in the frame pointer pointing to just after the pushed r11 register (the saved frame pointer) while on GCC the frame pointer points to just after the pushed link register. The difference makes it difficult to produce a generic stack walker.</p></li></ul><h3>LLVM commits</h3><ul><li><p>The MCJIT remote execution protocol was heavily refactored and it was hoped fixed on ARM where it was previously non-functional. There are still some random failures on ARM though, see <a href="http://llvm.org/bugs/show_bug.cgi?id=18057">bug 18507</a>. <a href=http://reviews.llvm.org/rL199261>r199261</a></p></li><li><p>The cutoff on when to attempt to convert a switch to a lookup table was changed from 4 to 3. Experimentally, Hans Wennborg found that there was no speedup for two cases but three produced a speedup. When building Clang, this results in 480 new switches to be transformed and an 8KB smaller binary size. <a href=http://reviews.llvm.org/rL199294>r199294</a></p></li><li><p>Support for the <code>preserve_mostcc</code> and <code>preserve_allcc</code> calling conventions was introduced and implemented for x86-64. These are intend to be used by a future version of the ObjectiveC runtime in order to reduce overhead of runtime calls. <a href=http://reviews.llvm.org/rL199508>r199508</a></p></li><li><p>The configure script now checks for a sufficiently modern host compiler (Clang 3.1 or GCC 4.7) <a href=http://reviews.llvm.org/rL199182>r199182</a></p></li><li><p>More work on the new PassManager driver. Bitcode can now be written using the new PM and more preparation/cleanup work has been performed. <a href=http://reviews.llvm.org/rL199078>r199078</a>, <a href=http://reviews.llvm.org/rL199095>r199095</a>, <a href=http://reviews.llvm.org/rL199104>r199104</a></p></li><li><p>Dominators.h and Verifier.h moved from the Analysis directory to the IR directory. <a href=http://reviews.llvm.org/rL199082>r199082</a></p></li><li><p>The DAGCombiner learned to reassociate (i.e. change the order of) vector operations <a href=http://reviews.llvm.org/rL199135>r199135</a></p></li><li><p>dllexport and dllimport are no longer represented as linkage types <a href=http://reviews.llvm.org/rL199218>r199218</a></p></li><li><p>Parsing of the .symver directive in ARM assembly was fixed <a href=http://reviews.llvm.org/rL199339>r199339</a></p></li></ul><h3>Clang commits</h3><ul><li><p>The MS ABI is now used for Win32 targets by default <a href=http://reviews.llvm.org/rL199131>r199131</a></p></li><li><p>The MicrosoftMode language option was renamed to MSVCCompat and its role clarified (see the commit message for a description of MicrosoftExt vs MSVCCompat). <a href=http://reviews.llvm.org/rL199209>r199209</a></p></li><li><p>The <code>-cxx-abi</code> command-line flag was killed and is instead inferred depending on the target. <a href=http://reviews.llvm.org/rL199250>r199250</a></p></li><li><p>The analyzer learned that shifting a constant value by its bit width is undefined. <a href=http://reviews.llvm.org/rL199405>r199405</a></p></li><li><p>The <code>nonnull</code> attribute can now be applied to parameters directly. <a href=http://reviews.llvm.org/rL199467>r199467</a></p></li><li><p>Support for AArch64 on NetBSD was added to the compiler driver. <a href=http://reviews.llvm.org/rL199124>r199124</a></p></li></ul><h3>Other project commits</h3><ul><li><p>AddressSanitizer in compiler-rt gained the ability to start in 'deactivated' mode. It can later be activated when <code>__asan_init</code> is called in an instrumented library. <a href=http://reviews.llvm.org/rL199377>r199377</a></p></li><li><p>A number of patches were committed to lld for better MIPS support. <a href=http://reviews.llvm.org/rL199231>r199231</a> and many more.</p></li><li><p>lldb recognises Linux distribution in the vendor portion of the host triple. e.g. <code>x86_64-ubuntu-linux-gnu</code>. <a href=http://reviews.llvm.org/rL199510>r199510</a></p></li></ul></article><section class=post-nav><ul><li><a href=https://blog.llvm.org/2014/01/llvm-weekly-2-jan-13th-2014.html><i class="fa fa-chevron-circle-left"></i> LLVM Weekly - #2, Jan 13th 2014</a></li><li><a href=https://blog.llvm.org/2014/01/llvm-weekly-4-jan-27th-2014.html>LLVM Weekly - #4, Jan 27th 2014 <i class="fa fa-chevron-circle-right"></i></a></li></ul></section></main><footer><ul><li><h6>llvm.org |
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://blog.llvm.org/index.xml>Subscribe</a></h6></li></ul></footer></div><script src=https://blog.llvm.org/js/scripts.js></script></body></html>