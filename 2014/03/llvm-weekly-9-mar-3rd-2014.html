<!doctype html><html lang=en>
<head>
<title>LLVM Weekly - #9, Mar 3rd 2014 - The LLVM Project Blog</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="LLVM Project News and Details from the Trenches">
<meta name=author content="Alex Bradbury"><meta property="og:title" content="LLVM Weekly - #9, Mar 3rd 2014">
<meta property="og:description" content="Welcome to the ninth issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by Alex Bradbury.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.llvm.org/2014/03/llvm-weekly-9-mar-3rd-2014.html"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2014-03-03T05:43:00+00:00">
<meta property="article:modified_time" content="2014-03-03T05:43:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="LLVM Weekly - #9, Mar 3rd 2014">
<meta name=twitter:description content="Welcome to the ninth issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by Alex Bradbury.">
<meta name=generator content="Hugo 0.89.4">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous>
<link rel=stylesheet href=https://blog.llvm.org/fontawesome/css/all.min.css>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda">
<link rel=stylesheet type=text/css href=https://blog.llvm.org/css/styles.css></head>
<body>
<div id=container>
<header>
<h1>
<a href=https://blog.llvm.org/>The LLVM Project Blog</a>
</h1>
<ul id=social-media>
<li>
<a href=https://www.facebook.com/llvmorg title=Facebook>
<i class="fab fa-facebook fa-lg"></i>
</a>
</li>
<li>
<a href=https://github.com/llvm title=GitHub>
<i class="fab fa-github fa-lg"></i>
</a>
</li>
<li>
<a href=https://twitter.com/llvmorg title=Twitter>
<i class="fab fa-twitter fa-lg"></i>
</a>
</li>
<li>
<a href=https://www.youtube.com/c/LLVMPROJ title=Youtube>
<i class="fab fa-youtube fa-lg"></i>
</a>
</li>
</ul>
<p><em>LLVM Project News and Details from the Trenches</em></p>
</header>
<nav>
<ul>
<li>
<a href=https://blog.llvm.org/about>
<i class="fa-li fa fa-lg"></i><span>About</span>
</a>
</li>
<li>
<a href=https://blog.llvm.org/posts>
<i class="fa-li fa fa-lg"></i><span>Posts</span>
</a>
</li>
<li>
<a href=https://blog.llvm.org/tags>
<i class="fa-li fa fa-lg"></i><span>Tags</span>
</a>
</li>
<li>
<a href=https://llvm.org/>
<i class="fa-li fa fa-lg"></i><span>llvm.org</span>
</a>
</li>
</ul>
</nav>
<main>
<article>
<h1>LLVM Weekly - #9, Mar 3rd 2014</h1>
<aside>
<ul>
<li>
<time class=post-date datetime=2014-03-03T05:43:00Z>Mar 3, 2014</time>
</li>
<li>
<em>
<a href=https://blog.llvm.org/tags/llvmweekly>#llvmweekly</a>
</em>
</li>
<li>6 minute read</li>
</ul>
</aside>
<p>Welcome to the ninth issue of LLVM Weekly, a weekly newsletter (published every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by <a href=http://asbradbury.org>Alex Bradbury</a>. Subscribe to future issues at <a href=http://llvmweekly.org>http://llvmweekly.org</a> and pass it on to anyone else you think may be interested. Please send any tips or feedback to <a href=mailto:asb@asbradbury.org>asb@asbradbury.org</a>, or <a href=https://twitter.com/llvmweekly>@llvmweekly</a> or <a href=https://twitter.com/asbradbury>@asbradbury</a> on Twitter.</p><p>As well as growing another year older last week, I've also started publicising the book I authored with <a href=https://twitter.com/ben_everard>Ben Everard</a>, <a href=http://www.amazon.co.uk/Learning-Python-Raspberry-Alex-Bradbury/dp/1118717058>Learning Python with Raspberry Pi</a> (<a href=http://www.amazon.com/Learning-Python-Raspberry-Alex-Bradbury/dp/1118717058/>Amazon US</a>) which should ship soon in paperback or is available right now for Kindle. Hopefully it should be available soon in DRM-free digital formats on oreilly.com. I will be putting more of my Raspberry Pi exploits and tutorials on <a href=http://muxup.com>muxup.com</a>, so if that interests you follow <a href=https://twitter.com/muxup>@muxup</a>.</p> <p>The canonical home for this issue <a href=http://llvmweekly.org/issue/9>can be found here at llvmweekly.org</a>. </p> <a name=more></a> <h3>News and articles from around the web</h3><p>The list of <a href=https://www.google-melange.com/gsoc/org/list/public/google/gsoc2014>mentoring organisations for Google Summer of Code 2014</a> has been released. LLVM is one of them, so any budding compiler engineers who qualify may want to check out the <a href=http://llvm.org/OpenProjects.html>ideas page</a>. Other organisations I spotted advertising relevant project ideas are <a href=http://llvm.linuxfoundation.org/index.php/GSoC>the Linux Foundation</a>, <a href=http://www.x.org/wiki/SummerOfCodeIdeas/>X.org</a> and of course <a href=http://gcc.gnu.org/wiki/SummerOfCode>GCC</a>.</p><p>At the end of last week, Broadcom made a major step forward in <a href=http://blog.broadcom.com/chip-design/android-for-all-broadcom-gives-developers-keys-to-the-videocore-kingdom/>announcing the release of full register level documentation for the VideoCore IV graphics engine</a> as well as full graphics driver source. The device most well-known for featuring VideoCore IV is the <a href=http://www.raspberrypi.org/archives/6299>Raspberry Pi</a>. The released documentation opens the door to producing something similar to the <a href=http://www.raspberrypi.org/archives/5934>GPU-accelerated FFT library</a> support that was recently released. Some readers of LLVM Weekly may of course be interested in using this information to produce an LLVM backend. Hopefully the following pointers will help. There are lots of resources linked to at the homepage of the <a href=https://github.com/hermanhermitage/videocoreiv>VideoCore IV reverse engineering project</a>. I'd draw particular attention to the <a href=https://github.com/hermanhermitage/videocoreiv-qpu>QPU reverse engineering effort</a> which contains good information despite the reverse engineering part of the work being made unnecessary by the Broadcom release. You may want to check out the <a href=http://www.freelists.org/archive/raspi-internals/>raspi-internals mailing list</a> and <code>#raspberrypi-internals</code> on Freenode. It's also worth looking at <a href=https://github.com/hermanhermitage/videocoreiv-qpu/tree/master/qpu-fft>the commented disassembly of the VideoCore FFT code</a> and Herman Hermitage's work in progress <a href=https://github.com/hermanhermitage/videocoreiv-qpu/tree/master/qpu-tutorial>QPU tutorial</a>.</p><p>Code for <a href=https://github.com/draperlaboratory/fracture>Fracture</a>, an architecture-independent decompiler to LLVM IR has been released.</p><p>Olivier Goffart has written about <a href=http://woboq.com/blog/moc-with-clang.html>his proof of concept reimplementation of Qt's moc using libclang</a>. It's actually from last year, but it's new to me.</p><p>Alex Denisov has written a <a href=http://railsware.com/blog/2014/02/28/creation-and-using-clang-plugin-with-xcode/>guide to writing a clang plugin</a>. He gives an example of a minimal plugin that complains about lowercased Objective C class names.</p><p>Coursera are re-running <a href=https://www.coursera.org/course/compilers>their compilers course</a> on March the 17th. See <a href=http://dirkjan.ochtman.nl/writing/2012/07/21/compilers-on-coursera.html>Dirkjan Ochtman's impressions of the course from the previous run</a>.</p><p>The Qualcomm LLVM team are <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70655>advertising for an intern</a>.</p><h3>On the mailing lists</h3><ul><li><p>Denis Steckelmacher <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70671>kicked off a discussion about the suggested GSoC project to use LLVM for code generation</a>. There are particularly interesting replies from <a href=http://article.gmane.org/gmane.comp.debugging.valgrind.devel/26122>Kirill Batuzov</a> and <a href=http://article.gmane.org/gmane.comp.debugging.valgrind.devel/26124>Julian Seward</a> who elaborate on why it's not a case of 'just use LLVM and it will be fast' as well as suggesting some changes that could be made to increase Valgrind's speed.</p></li><li><p>Chandler Carruth <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70836>announces he has flipped the switch for C++11 support on the build systems</a>. I, for one, welcome our new C++11 overloards.</p></li><li><p>For those interested in the issues of supporting precise GC on LLVM, see the discussion surrounding Philip Reames' <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70724>question on representing a safepoint</a>.</p></li><li><p>Alp Toker <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70714>proposed a way to move forward with the LLVM OpenMP runtime</a>. The main issue right now is there is no real test suite. Alp's suggestion is to organise a few days effort to adapt the libgomp test suite (to be hosted externally, due to licensing reasons).</p></li><li><p>Jasper Neumann <a href=http://article.gmane.org/gmane.comp.compilers.llvm.devel/70789>suggested a cunning optimisation</a> for checking the modulus. Benjamin Kramer explains the difficulty of integrating such an optimisation in to the peephole optimiser.</p></li><li><p>Nico Weber <a href=http://article.gmane.org/gmane.comp.compilers.clang.devel/35267>suggests a Clang warning that fires on unexpected indentation levels</a>. He has <a href="http://llvm.org/bugs/show_bug.cgi?id=18938">prototype implementation</a> up on the bugtracker.</p></li><li><p>Saleem Abdulrasool has <a href=http://article.gmane.org/gmane.comp.compilers.clang.devel/35268>suggested adding a macro that indicates the LLVM integrated assembler is being used</a>. Respondents to the thread so far aren't keen on the idea, pointing out that projects should really check whether a certain syntax or feature they need works rather than marking themselves incompatible with the LLVM integrated assembler which may of course improve compatibility in the future.</p></li></ul><h3>LLVM commits</h3><ul><li><p>LLVM grew a big-endian AArch64 target <a href=http://reviews.llvm.org/rL202024>r202024</a>. Some might consider it a step back, but apparently there's a decent number of people interested in big-endian on AArch64. There's an interesting <a href=http://www.linux-kvm.org/wiki/images/c/c4/Kvm-forum-2013-crossing-the-endianness-bridge.pdf>presentation from ARM</a> about running a virtualised BE guest on a LE host.</p></li><li><p>The flipping of the C++11 switch has allowed a number of simplifications to start to make their way in to the LLVM codebase. For instance, turning simple functors in to lambdas. Like or loathe C++11 lambda syntax, they're certainly less verbose. <a href=http://reviews.llvm.org/rL202588>r202588</a>. <code>OwningPtr&lt;T></code> gained support for being converted to and from <code>std::unique_ptr&lt;T></code>, which lays the ground for LLVM moving to using <code>std::unique_ptr</code> in the future. <a href=http://reviews.llvm.org/rL202609>r202609</a>.</p></li><li><p>The coding standards document was updated to reflect the C++11 features that can now be used in the LLVM/Clang codebase and to provide guidance on their use. <a href=http://reviews.llvm.org/rL202497>r202497</a>, <a href=http://reviews.llvm.org/rL202620>r202620</a>.</p></li><li><p>The loop vectorizer is now included in the LTO optimisation pipeline by default. <a href=http://reviews.llvm.org/rL202051>r202051</a>.</p></li><li><p>DataLayout has been converted to be a plain object rather than a pass. A DataLayoutPass which holds a DataLayout has been introduced. <a href=http://reviews.llvm.org/rL202168>r202168</a>.</p></li><li><p>The PowerPC backend learned to track condition register bits, which produced measurable speedups (10-35%) for the POWER7 benchmark suite. <a href=http://reviews.llvm.org/rL202451>r202451</a>.</p></li><li><p>X86 SSE-related instructions gained a scheduling model. Sadly there is no indication whether this makes any measurable difference to common benchmarks. <a href=http://reviews.llvm.org/rL202065>r202065</a>.</p></li><li><p>The scalar replacement of aggregates pass (SROA) got a number of refactorings and bug fixes from Chandler Carruth, including some bug fixes for handling pointers from address spaces other than the default. <a href=http://reviews.llvm.org/rL202092>r202092</a>, <a href=http://reviews.llvm.org/rL202247>r202247</a>, and more.</p></li><li><p>An experimental implementation of an invalid-pointer-pair detector was added as part of AddressSanitizer. This attempts to identify when two unrelated pointers are compared or subtracted. <a href=http://reviews.llvm.org/rL202389>r202389</a>.</p></li><li><p>Shed a tear, for libtool has been removed from the LLVM build system. The commit says it was only being used to find the shared library extension and nm. The diffstat of 93 insertions and 35277 deletions speaks for itself. <a href=http://reviews.llvm.org/rL202524>r202524</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>The initial changes needed for <code>omp simd</code> directive support were landed. <a href=http://reviews.llvm.org/rL202360>r202360</a>.</p></li><li><p>The <code>-Wabsolute-value</code> warning was committed, which will warn for several cases of misuse of absolute value functions. It will warn when using e.g. an int absolute value function on a float, or when using it one a type of the wrong size (e.g. using abs rather than llabs on a long long), or whn taking the absolute value of an unsigned value. <a href=http://reviews.llvm.org/rL202211>r202211</a>.</p></li><li><p>An API was added to libclang to create a buffer with a JSON virtual file overlay description. <a href=http://reviews.llvm.org/rL202105>r202105</a>.</p></li><li><p>The driver option <code>-ivfsoverlay</code> was added, which reads the description of a virtual filesystem from a file and overlays it over the real file system. <a href=http://reviews.llvm.org/rL202176>r202176</a>.</p></li><li><p>CFG edges have been reworked to encode potentially unreachable edges. This involved adding the AdjacentBlock class this encodes whether the block is reachable or not. <a href=http://reviews.llvm.org/rL202325>r202325</a>.</p></li><li><p>The 'remark' diagnostic type was added. This provides additional information to the user (e.g. information from the vectorizer about loops that have been vectorized). <a href=http://reviews.llvm.org/rL202475>r202475</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>The compiler-rt subproject now has a <code>CODE_OWNERS.txt</code> to indicate who is primarily responsible for each part of the project. <a href=http://reviews.llvm.org/rL202377>r202377</a>.</p></li><li><p>A standalone deadlock detector was added to ThreadSanitizer. <a href=http://reviews.llvm.org/rL202505>r202505</a>.</p></li><li><p>The OpenMP runtime has been ported to FreeBSD. <a href=http://reviews.llvm.org/rL202478>r202478</a>.</p></li></ul>
</article>
<section class=post-nav>
<ul>
<li>
<a href=https://blog.llvm.org/2014/02/llvm-weekly-8-feb-24th-2014.html><i class="fa fa-chevron-circle-left"></i> LLVM Weekly - #8, Feb 24th 2014</a>
</li>
<li>
<a href=https://blog.llvm.org/2014/03/llvm-weekly-10-mar-10th-2014.html>LLVM Weekly - #10, Mar 10th 2014 <i class="fa fa-chevron-circle-right"></i> </a>
</li>
</ul>
</section>
</main>
<footer>
<ul>
<li>
<h6>llvm.org |
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://blog.llvm.org/index.xml>Subscribe </a></h6>
</li>
</ul>
</footer>
</div>
<script src=https://blog.llvm.org/js/scripts.js></script>
</body>
</html>