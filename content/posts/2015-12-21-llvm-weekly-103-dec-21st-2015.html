---
author: Alex Bradbury
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-7109023187655938037
blogger_orig_url: http://blog.llvm.org/2015/12/llvm-weekly-103-dec-21st-2015.html
url: "2015/12/llvm-weekly-103-dec-21st-2015.html"
date: "2015-12-21T11:42:00Z"
modified_time: "2015-12-21T14:13:53.815-08:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #103, Dec 21st 2015'
---

<p>Welcome to the one hundred and third issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be   interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/103">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <p>Regular readers will know about lowRISC, a not-for-profit project a group of  us founded aiming to produce a complete open-source System-on-Chip in volume. We've just hit a new milestone with the <a href="http://www.lowrisc.org/blog/2015/12/untethered-lowrisc-release/">untethering of the base  SoC</a>. If  you're interested in contributing, the blog post contains a number of potential  starting points.</p><h3>News and articles from around the web</h3><p>The 6th EuroLLVM conference will be held on March 17th-18th in Barcelona,  Spain. The <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093291.html">call for  papers</a> is  now open and will remain open until January 25th 2016. EuroLLVM CFP </p><p>Chandler Carruth's keynote, "Understanding compiler optimizations" from the  Meeting C++ 2015 conference is <a href="https://www.youtube.com/watch?v=FnGCDLhaxKU">now online</a>.</p><p>Richard Pennington has blogged about <a href="http://ellcc.org/blog/?p=26397">bootstrapping LLVM and Clang using  pre-compiled ELLCC binaries</a>.</p><p>Bloomberg is going to be holding a <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093412.html">weekend Clang and LLVM  hackathon</a>  in NYC and in London on February 6th and 7th. The event will be open to  everyone in the community and Bloomberg will provide space, power, food,  beverages, and internet access.They're looking for experienced Clang and  LLVM developers to help as mentors.</p><h3>On the mailing lists</h3><ul><li><p>Marshall Clow proposes <a href="http://lists.llvm.org/pipermail/cfe-dev/2015-December/046575.html">dropping support in libc++ for GCC versions prior to  4.7</a>. Eric  Fiselier suggests that actually GCC 4.7 and 4.8 have a rather large number of  test failures and <a href="http://lists.llvm.org/pipermail/cfe-dev/2015-December/046584.html">4.9 would be a more sensible  requirement</a>.</p></li><li><p>Dmitry Polukhin has proposed an <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093414.html">RFC on supporting GCC's ifunc  attribute</a>. He proposes three potential approaches and feedback so far prefers the second.</p></li><li><p>Easwaran Raman has posted an RFC on <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093388.html">hotness thresholds in profile-guided  optimisation</a>. The proposal attempts to define a way of determining hot blocks that works  both for programs with few hot-spots and a long tail of frequently executed  blocks.</p></li></ul><h3>LLVM commits</h3><ul><li><p>LLVM IR now supports floating point atomic loads and stores. <a href="http://reviews.llvm.org/rL255737">r255737</a>.</p></li><li><p>New attributes have been introduced: <code>InaccessibleMemOnly</code> (a function may  only access memory that is not accessible by the module being compiled) and <code>InaccessibleMemOrArgMemOnly</code> (a function may only access memory that is  either not accessible by the module being compiled or is pointed to by its  pointer arguments). <a href="http://reviews.llvm.org/rL255778">r255778</a>.</p></li><li><p>The PowerPC backend gained support for soft float operations on ppc32. <a href="http://reviews.llvm.org/rL255516">r255516</a>.</p></li><li><p>The <code>terminatepad</code> instruction has been removed from LLVM IR. <a href="http://reviews.llvm.org/rL255522">r255522</a>.</p></li><li><p>IR call instructions can now take a fast-math flags marker which indicates  fast-math flags may allow otherwise unsafe optimisations. <a href="http://reviews.llvm.org/rL255555">r255555</a>.</p></li><li><p>LLVM gained a C++11 ThreadPool in its internal library. It is intended to be  used for ThinLTO. <a href="http://reviews.llvm.org/rL255593">r255593</a>.</p></li><li><p>The default set of passes has been adjusted. mem2reg will not be run  immediately after globalopt and more scalar optimization passes have been  added to the LTO pipeline. <a href="http://reviews.llvm.org/rL255634">r255634</a>.</p></li><li><p>The llvm-profdata tool now supports specifying a weight when merging profile  data. This can be used to give more relative importance to one of multiple  profile runs. <a href="http://reviews.llvm.org/rL255659">r255659</a>.</p></li><li><p>For CMake builds, a <code>compile_commands.json</code> file will now be generated which  tells tools like YouCompleteMe and <code>clang_complete</code> how to build each source  file. <a href="http://reviews.llvm.org/rL255789">r255789</a>.</p></li><li><p>The Hexagon VLIW packetizer saw a large update (though unfortunately the  changes aren't summarised in the commit message). <a href="http://reviews.llvm.org/rL255807">r255807</a>.</p></li><li><p>A number of LLVM's C APIs have been depreciated: LLVMParseBitcode,  LLVMParseBitcodeInContext, LLVMGetBitcodeModuleInContext and  LLVMGetBitcodeModule. These have been replaced with new versions of the  functions which don't record a diagnostic. <a href="http://reviews.llvm.org/rL256065">r256065</a>.</p></li><li><p>The AVR backend (which is being imported incrementally) gained AVR.td and  AVRRegisterInfo.td. <a href="http://reviews.llvm.org/rL256120">r256120</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>A new checker has been introduced to detect excess padding in classes and  structs. <a href="http://reviews.llvm.org/rL255545">r255545</a>.</p></li><li><p>A new control-flow integrity mode was introduced, cross-DSO CFI allows  control flow to be protected across shared objects. It is currently marked  experimental. <a href="http://reviews.llvm.org/rL255694">r255694</a>.</p></li><li><p>Clang's CMake build system now supports generating profile data for Clang. <a href="http://reviews.llvm.org/rL255740">r255740</a>,  <a href="http://reviews.llvm.org/rL256069">r256069</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>It is now possible to suppress reports from UndefinedBehaviourSanitizer for  certain files, functions, or modules at runtime. <a href="http://reviews.llvm.org/rL256018">r256018</a>.</p></li><li><p>The llvm test-suite's CMake+Lit runner gained support for SPEC2000 and SPEC  CPU95. <a href="http://reviews.llvm.org/rL255876">r255876</a>,  <a href="http://reviews.llvm.org/rL255878">r255878</a>.</p></li></ul>
