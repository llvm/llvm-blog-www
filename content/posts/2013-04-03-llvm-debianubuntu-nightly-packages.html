---
author: Ledru Sylvestre
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-3150289068342295704
blogger_orig_url: http://blog.llvm.org/2013/04/llvm-debianubuntu-nightly-packages.html
url: "2013/04/llvm-debianubuntu-nightly-packages.html"
date: "2013-04-03T13:32:00Z"
modified_time: "2013-04-04T19:53:53.605-07:00"
tags: ["meta","testing"]
title: LLVM Debian/Ubuntu nightly packages
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br />In order to facilitate testing and to improve the deployment of the LLVM toolchain, we are happy to <a href="http://llvm.org/apt/">publish LLVM Debian/Ubuntu nightly packages</a>.  Read on for information about how it works and what we're building.<br /><br /><a name='more'></a>These packages provide LLVM, Clang, compiler-rt, polly and LLDB.<br />They are built for Debian:<br /><ul style="text-align: left;"><li>Wheezy (future stable)</li><li>Unstable</li></ul>and Ubuntu:<br /><ul style="text-align: left;"><li>Precise</li><li>Quantal</li><li>Raring</li></ul>&nbsp;For now, amd64 and i386 are supported.<br /><br />For example, installing the nightly build of clang 3.3 is as simple as:<br /><pre></pre><i>echo "deb http://llvm.org/apt/wheezy/ llvm-toolchain-wheezy main"&gt; /etc/apt/sources.list.d/llvm.list</i><br /><i>apt-get update</i><br /><i>apt-get install clang-3.3</i><br /><i><br /></i>Packages are automatically built twice a day for every architecture and operating system in clean chroots. They are built by a <a href="http://llvm-jenkins.debian.net/">Jenkins instance</a> hosted by <a href="http://www.irill.org/">IRILL</a> and push the LLVM infrastructure.<br /><h2>&nbsp;</h2><h2>Repositories</h2><div class="rel_section"><h3 style="text-align: left;"><b>Debian</b></h3></div><div class="rel_boxtext">wheezy (currently testing)<small></small><br /><pre>deb http://llvm.org/apt/wheezy/ llvm-toolchain-wheezy main<br />deb-src http://llvm.org/apt/wheezy/ llvm-toolchain-wheezy main<br /></pre><br />sid (unstable)<small></small><br /><pre>deb http://llvm.org/apt/unstable/ llvm-toolchain main<br />deb-src http://llvm.org/apt/unstable/ llvm-toolchain main<br /></pre></div><div class="rel_section"></div><div class="rel_section" style="text-align: left;"><h3><b>Ubuntu</b></h3></div><div class="rel_boxtext">Precise (12.04)<small></small><br /><pre>deb http://llvm.org/apt/precise/ llvm-toolchain-precise main<br />deb-src http://llvm.org/apt/precise/ llvm-toolchain-precise main</pre><pre>&nbsp;</pre>Quantal (12.10)<br /><small></small> <br /><pre>deb http://llvm.org/apt/quantal/ llvm-toolchain-quantal main<br />deb-src http://llvm.org/apt/quantal/ llvm-toolchain-quantal main</pre><pre>&nbsp;</pre>Raring (13.04)<small></small><br /><pre>deb http://llvm.org/apt/raring/ llvm-toolchain-raring main<br />deb-src http://llvm.org/apt/raring/ llvm-toolchain-raring main</pre></div><h2>&nbsp;</h2><h2>Install</h2>The following commands will install all packages provided by the llvm-toolchain:<br /><br /><pre>apt-get install clang-3.3 clang-3.3-doc libclang-common-dev libclang-dev libclang1 libclang1-dbg libllvm-3.3-ocaml-dev libllvm3.3 libllvm3.3-dbg lldb-3.3 llvm-3.3 llvm-3.3-dev llvm-3.3-doc llvm-3.3-examples llvm-3.3-runtime<br /></pre><h2>&nbsp;</h2><h2>Technical workflow</h2>Twice a day, each jenkins job will checkout the debian/ directory  necessary to build the packages. The repository is available on the  Debian hosting infrastructure: <a href="http://anonscm.debian.org/viewvc/pkg-llvm/llvm-toolchain/branches/">http://anonscm.debian.org/viewvc/pkg-llvm/llvm-toolchain/branches/</a>.       In the <i>llvm-toolchain-*-source</i>, the following tasks will be performed: <br /><ul><li>upstream sources will be checkout</li><li>tarballs will be created. They are named: <ul><li>llvm-toolchain_X.Y~svn123456.orig-lldb.tar.bz2</li><li>llvm-toolchain_X.Y~svn123456.orig-compiler-rt.tar.bz2</li><li>llvm-toolchain_X.Y~svn123456.orig.tar.bz2</li><li>llvm-toolchain_X.Y~svn123456.orig-clang.tar.bz2</li><li>llvm-toolchain_X.Y~svn123456.orig-polly.tar.bz2</li></ul></li><li>Debian .dsc package description is created</li><li>Start the jenkins job <i>llvm-toolchain-X-binary</i></li></ul>Then, the job <i>llvm-toolchain-X-binary</i> will: <br /><ul><li>Create a chroot using cowbuilder or update it is already existing</li><li>Install libisl &gt;=0.11 if necessary (for polly)</li><li>Build all the packages</li><li>Launch lintian, the Debian static analyzer</li><li>Publish the result on the LLVM repository</li></ul>Note that a <a href="http://anonscm.debian.org/viewvc/pkg-llvm/llvm-toolchain/branches/snapshot/debian/patches/">few patches</a> are applied over the LLVM tarballs (and should be merged upstream soon). <br /><h2>Future</h2>This versatile infrastructure allows some more interesting features  like:<br /><ul style="text-align: left;"><li>Automatic launch of scan-build on the whole code</li><li>Full bootstrap of LLVM/Clang</li><li>Code coverage on the latest release</li></ul></div>
