---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-334194064470967423
blogger_orig_url: http://blog.llvm.org/2015/11/llvm-weekly-98-nov-16th-2015.html
url: "2015/11/llvm-weekly-98-nov-16th-2015.html"
date: "2015-11-16T04:18:00Z"
modified_time: "2015-11-16T04:18:32.964-08:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #98, Nov 16th 2015'
---

<p>Welcome to the ninety-eighth issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be   interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p><p>This week's issue comes to you from Vienna where I'm just about to head home  from a short break (so apologies if it's a little later than usual and perhaps  a little less detailed). I'll admit that nobody has actually written in to beg  that LLVM Weekly share travel tips, but I will say that Vienna is a beautiful  city that's provided lots to do over the past few days. If you're visiting, I  can strongly recommend <a href="http://www.salmbraeu.com/home/">Salm Br√§u</a> for good beer and food.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/98">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>All of the <a href="https://www.youtube.com/playlist?list=PL_R5A0lGi1AA4Lv2bBFSwhgDaHvvpVU21">LLVM Dev Meeting  Videos</a>  are now up, and will stay up. This includes <a href="https://www.youtube.com/watch?v=Ntj8ab-5cvE">Chris Lattner and Joseph Groff's  talk on Swift's IR</a>. You can also  find most of the slides <a href="http://llvm.org/devmtg/2015-10/slides/">here</a>. The  folks at Quarkslab have also <a href="http://blog.quarkslab.com/llvm_dev_meeting.html">posted a trip  report</a>.</p><p>The big news this week is that code derived from NVIDIA's PGI Fortran compiler  <a href="https://www.llnl.gov/news/nnsa-national-labs-team-nvidia-develop-open-source-fortran-compiler-technology">is to be open-sourced and a production-grade Fortran front-end to LLVM  produced</a>. This project is a collaboration between the US NNSA (National Nuclear Security  Administration), NVIDIA, and the Lawrence Livermore, Sandia, and Los Alamos  national laboratories. Hal Finkel has <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092404.html">shared a little more on the LLVM  mailing  list</a>. With a source code release not due for about another year, where does this  leave the existing <a href="https://github.com/llvm-flang/flang">Flang</a> efforts? The  hope is that <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092422.html">parts of Flang will be merged with the PGI  release</a>. Douglas Miles from the PGI team has also <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092438.html">shared a  mini-FAQ</a>. Fortran announcement </p><p>Bjarne Stroustrup has shared a <a href="https://isocpp.org/blog/2015/11/kona-standards-meeting-trip-report">detailed trip  report</a>  from the last C++ Standards Meeting.</p><p>This post over at the Include Security Blog <a href="http://blog.includesecurity.com/2015/11/LLVM-SafeStack-buffer-overflowprotection.html">delves in to some details of  support for the SafeStack buffer overflow protection in  LLVM</a>.</p><p>At the official LLVM blog, a new post gives a very useful guide on <a href="http://blog.llvm.org/2015/11/reduce-your-testcases-with-bugpoint-and.html">how to  reduce your testcases using bugpoint and custom  scripts</a>. As the post notes, bugpoint is a very powerful tool but can be difficult to  use.</p><h3>On the mailing lists</h3><ul><li><p>Do you maintain an out-of-tree target? Does your out-of-tree target have a  huge number of subregisters and depends on imprecise lanemasks being  available? If so, <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092238.html">Matthias Braun wants to hear from  you</a>. Speak up now if the proposed change may affect you.</p></li><li><p>Geoff Berry is <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092376.html">proposing some more work on  devirtualization</a>. In particular, he wants to propagate <code>llvm.assume</code> across function calls. He  also asks what else is required to enable Clang's <code>-fstrict-vtable-pointers</code>  by default, which <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092384.html">Piotr Padlewski and Richard Smith provide detailed  responses  to</a>.</p></li><li><p>Cong Hou has posted an RFC on <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092379.html">adding a vector reduction add  instruction</a>  to LLVM IR. There hasn't been much feedback yet, but David Li <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-November/092398.html">questions  whether the effect could be modelled with simpler  instructions/intrinsics</a>.</p></li><li><p>Ben Langmuir has posted an <a href="http://lists.llvm.org/pipermail/cfe-dev/2015-November/045999.html">RFC on whether modules specified in a module map  file should shadow implicitly discovered  modules</a>.</p></li></ul><h3>LLVM commits</h3><ul><li><p>LLVM's autoconf-based build system is now officially deprecated, with the  CMake build system being preferred. <a href="http://reviews.llvm.org/rL252520">r252520</a>.</p></li><li><p>Do you want to compile CUDA code with Clang and LLVM? There's now some  <a href="http://llvm.org/docs/CompileCudaWithLLVM.html">handy documentation describing how to do  so</a>. See also <a href="https://www.youtube.com/watch?v=JHfb8z-iSYk">Jingyue's  talk</a> from the recent LLVM Dev  Meeting. <a href="http://reviews.llvm.org/rL252660">r252660</a>.</p></li><li><p>A simple MachineInstruction SSA pass for PowerPC has been added. The  implementation is short and straight-forward, so worth a read if you want to  do some MI-level peephole optimisations for your target. <a href="http://reviews.llvm.org/rL252651">r252651</a>.</p></li><li><p>Basic support for AArch64's address tagging has been added. In AArch64, the  top 8 bits of an address can be used to store extra metadata with these bits  being masked out before going through address translation. <a href="http://reviews.llvm.org/rL252573">r252573</a>.</p></li><li><p>The Hexagon backend now supports assembly parsing. <a href="http://reviews.llvm.org/rL252443">r252443</a>.</p></li><li><p>The CMake build system gained a new LLVMExternalProjectUtils module. As an  example, this is used with the LLVM test suite which can be set up to be  rebuilt whenever the in-tree clang or lld change. This could also be used with  compiler-rt or libcxx. <a href="http://reviews.llvm.org/rL252747">r252747</a>.</p></li><li><p>An 'empty token' is now defined (written as <code>token empty</code>) for when using  tokens in LLVM IR. <a href="http://reviews.llvm.org/rL252811">r252811</a>.</p></li><li><p>LibFuzzer gained a new experimental search heuristic, drill. As the comment  in FuzzerLoop.cpp explains, this will 1) read+shuffle+execute+minimize the  corpus, 2) choose a random unit, 3) reset the coverage, 4) start fuzzing as if  the chosen unit was the only element of the corpus, 5) reset the coverage  again when done, 6) merge the newly created corpus into the original one. <a href="http://reviews.llvm.org/rL252838">r252838</a>.</p></li><li><p>A BITREVERSE SelectionDAG node and a set of <code>llvm.bitreverse.*</code> intrinsics  have been introduced. The intention is that backends should no longer have to  reimplement similar code to match instruction patterns to their own ISA's  bitreverse instruction. See also the patch to the ARM backend that replaces  ARMISD::RBIT with ISD::BITREVERSE. <a href="http://reviews.llvm.org/rL252878">r252878</a>,  <a href="http://reviews.llvm.org/rL253047">r253047</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>Support for <code>__attribute__(internal_linkage)</code> was added. This is much like  C's static keyword, but applies to C++ class methods. <a href="http://reviews.llvm.org/rL252648">r252648</a>.</p></li><li><p>Clang now supports GCC's <code>__auto_type</code> extension, with a few minor  enhancements. <a href="http://reviews.llvm.org/rL252690">r252690</a>.</p></li></ul><h3>Other project commits</h3><ul>  <li><p>libcxx gained initial support for building with mustl libc. Primarily this  is a new CMake option, necessary as Musl doesn't provide a macro to indicate  its presense. <a href="http://reviews.llvm.org/rL252457">r252457</a>).</p></li></ul>
