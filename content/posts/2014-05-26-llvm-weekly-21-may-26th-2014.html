---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-4644948027570619163
blogger_orig_url: http://blog.llvm.org/2014/05/llvm-weekly-21-may-26th-2014.html
date: "2014-05-26T04:32:00Z"
modified_time: "2014-05-26T04:32:41.305-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #21, May 26th 2014'
---

<p>Welcome to the 21st issue of LLVM Weekly, a weekly newsletter (published every  Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex Bradbury</a>. Subscribe to future issues at <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone  else you think may be interested. Please send any tips or feedback to  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p><p>I'm back in the UK and mostly recovered from the ensuing jetlag. I am however  disturbed that all mailing lists on <a href="http://gmane.org/">GMANE</a> don't seem to  have been updated for the past week and have been unable to find any  explanation of what is going on online. GMANE is an important and massively  useful aggregrator and archiver of free software development lists and I  really hope these are only temporary problems. For this issue, I have instead  linked directly to the mailman archives at UIUC.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/21">can be found here at llvmweekly.org</a>. </p>  <a name='more'></a> <h3>News and articles from around the web</h3><p>Jonathan Mah has written a <a href="http://devetc.org/code/2014/05/17/safe-and-sane-key-paths.html">Clang plugin for checking key path strings in  Objective C  code</a>. The  implementation is <a href="https://github.com/jmah/Clang-KeyPathValidator">available on  Github</a>.</p><p>LWN has published an <a href="http://lwn.net/Articles/598486/">article about ThreadSanitizer  v2</a>.</p><p>This week, the merge of the AArch64 and the Apple-contributed ARM64 backends  was completed. The old AArch64 was deleted and the result of merging code from  AArch64 in to ARM64 was renamed to AArch64.</p><p>A paper '<a href="http://arxiv.org/abs/1405.4565">Static energy consumption analysis of LLVM IR  programs</a>' has been posted to arXiv.org.</p><h3>On the mailing lists</h3><ul><li><p>Philip Reames wonders <a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-May/073180.html">why can't atomic loads and stores handle  floats</a>. David Chisnall has a good followup which explains <a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-May/073191.html">why just bitcasting floats  to use atomic load/store on them is far from  ideal</a>.</p></li><li><p>Louis Gerbarg has shared an <a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-May/073125.html">RFC on indexing of structs vs arrays in  getelementpointr</a>. This is inspired by his recent work to optimise getelementptr across different  basic blocks.</p></li><li><p>Jingyue Wu <a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-May/073079.html">asks for advice on sinking incoming values of a PHI node in  CodeGenPrepare</a>. Louis Gerbarg points out that <a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-May/073096.html">these optimisations are similar to his recent  GetElementPtr  work</a>.</p></li></ul><h3>LLVM commits</h3><ul><li><p>A new attribute, 'nonnull' has been added. When applied to a parameter or  return pointer this indicates it is not null, which may allow additional  optimisations (at least, avoiding comparisons between that value and null). <a href="http://reviews.llvm.org/rL209185">r209185</a>,  <a href="http://reviews.llvm.org/rL209193">r209193</a>.</p></li><li><p>The llvm.arm.undefined intrinsic has been added. This is used to generate  the 0xde opcode on ARM. It takes an integer parameter, which might be used by  the OS to implement custom behaviour on the trap. <a href="http://reviews.llvm.org/rL209390">r209390</a>.</p></li><li><p>The MIPS disassembler has seen some work. Some support has been added for  MIPS64r6 and various issues fixed. <a href="http://reviews.llvm.org/rL209415">r209415</a>.</p></li><li><p>LLVM learned the <code>-pass-remarks-missed</code> and <code>-pass-remarks-analysis</code> command  line options. <code>-pass-remarks-missed</code> shows diagnostics when a pass tried to  apply a transformation but couldn't. <code>-pass-remarks-analysis</code> shows  information about analysis results. <a href="http://reviews.llvm.org/rL209442">r209442</a>.</p></li><li><p>The documentation for the <code>llvm.mem.parallel_loop_access</code> metadata has been  updated. <a href="http://reviews.llvm.org/rL209507">r209507</a>.</p></li><li><p>Old AArch64 has been removed and ARM64 renamed to AArch64. <a href="http://reviews.llvm.org/rL209576">r209576</a>,  <a href="http://reviews.llvm.org/rL209577">r209577</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>clang-format has seen more JS support. It can now reformat ES6 arrow  functions and ES6 destructuring assignments. <a href="http://reviews.llvm.org/rL209112">r209112</a>,  <a href="http://reviews.llvm.org/rL209113">r209113</a>.</p></li><li><p>Experimental checkers for the clang static analyzer are <a href="http://clang.llvm.org/analyzer/alpha_checks.html">now documented</a>. <a href="http://reviews.llvm.org/rL209131">r209131</a>.</p></li><li><p>Support was added to clang for global named registers, using the LLVM  intrinsics which were recently added. <a href="http://reviews.llvm.org/rL209149">r209149</a>.</p></li><li><p>Clang learned the <code>no_split_stack</code> attribute to turn off split stacks on a  per-function bases. <a href="http://reviews.llvm.org/rL209167">r209167</a>.</p></li><li><p>Clang learned the <code>flatten</code> attribute. This causes calls within the function  to be inlined where possible. <a href="http://reviews.llvm.org/rL209217">r209217</a>.</p></li><li><p>An initial version of codegen for pragma omp simd has been committed. This  also adds CGLoopInfo which is a helper for marking memory instructions with  <code>llvm.mem.parallel_loop_access</code> metadata. <a href="http://reviews.llvm.org/rL209411">r209411</a>.</p></li><li><p>The pragma <code>clang optimize {on,off}</code> has been implemented. This allows you  to selectively disable optimisations on certain functions. <a href="http://reviews.llvm.org/rL209510">r209510</a>.</p></li><li><p>An implementation of Microsoft ABI-compatible RTTI (run-time type  information) has landed. <a href="http://reviews.llvm.org/rL209523">r209523</a>.</p></li></ul><h3>Other project commits</h3><ul><li>'Chained origins' as used by MemorySanitizer has been redesigned. <a href="http://reviews.llvm.org/rL209284">r209284</a>.</li></ul>
